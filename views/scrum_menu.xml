<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        <!-- Radice “Scrum” nel menu principale di Odoo Project -->
        <menuitem id="menu_scrum_main"
                  name="Scrum"
                  parent="project.menu_main_pm"
                  sequence="10"/>

        <!-- Sezione Product Backlog -->
        <menuitem id="menu_scrum_backlog"
                  name="Product Backlog"
                  parent="menu_scrum_main"
                  sequence="10"/>

        <!-- Sezione Sprint -->
        <menuitem id="menu_scrum_sprints"
                  name="Sprint"
                  parent="menu_scrum_main"
                  sequence="20"/>

        <!-- Sezione Dashboard -->
        <menuitem id="menu_scrum_reports"
                  name="Dashboard"
                  parent="menu_scrum_main"
                  sequence="30"/>

        <!-- Azione: Product Backlog (user-story senza sprint) -->
        <record id="action_scrum_backlog" model="ir.actions.act_window">
            <field name="name">Product Backlog</field>
            <field name="res_model">scrum.user.story</field>
            <field name="view_mode">kanban,tree,form</field>
            <field name="domain">[('sprint_id','=', False)]</field>
            <field name="context">{'default_state': 'draft'}</field>
        </record>
        <menuitem id="menu_scrum_backlog_action"
                  name="User Stories"
                  parent="menu_scrum_backlog"
                  action="action_scrum_backlog"
                  sequence="11"/>

        <!-- Azione: Sprint -->
        <record id="action_scrum_sprint" model="ir.actions.act_window">
            <field name="name">Sprint</field>
            <field name="res_model">scrum.sprint</field>
            <field name="view_mode">kanban,tree,form</field>
        </record>
        <menuitem id="menu_scrum_sprint_action"
                  name="Sprint"
                  parent="menu_scrum_sprints"
                  action="action_scrum_sprint"
                  sequence="21"/>

        <!-- Azione: Scrum Dashboard -->
        <record id="action_scrum_dashboard" model="ir.actions.act_window">
            <field name="name">Scrum Dashboard</field>
            <field name="res_model">scrum.sprint</field>
            <field name="view_mode">dashboard</field>
        </record>
        <menuitem id="menu_scrum_dashboard_action"
                  name="Dashboard"
                  parent="menu_scrum_reports"
                  action="action_scrum_dashboard"
                  sequence="31"/>
    </data>
</odoo>
