<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <record id="view_task_kanban_inherit_scrum" model="ir.ui.view">
    <field name="name">project.task.kanban.scrum</field>
    <field name="model">project.task</field>
    <!-- 1) Declare the new fields for QWeb -->
    <field name="arch" type="xml">
      <kanban default_group_by="stage_id"
              class="o_kanban_small_column o_kanban_project_tasks"
              on_create="quick_create"
              quick_create_view="project.quick_create_task_form">
        <field name="story_points"/>
        <field name="sprint_id"/>
        <!-- other existing <field>â€¦ -->
        <templates>
          <!-- 2) Inherit correct template name -->
          <t t-inherit="card" t-inherit-mode="extension">
            <!-- 3) Use correct XPath on the <field> -->
            <xpath expr="//field[@name='task_properties']" position="after">
              <div class="o_field_number_container">
                <field name="story_points" class="o_field_number"/>
              </div>
              <div class="o_field_many2one_container">
                <field name="sprint_id"/>
              </div>
            </xpath>
          </t>
        </templates>
      </kanban>
    </field>
  </record>
</odoo>
