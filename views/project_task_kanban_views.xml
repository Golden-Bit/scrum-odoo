<?xml version="1.0" encoding="UTF-8"?>
<odoo>
  <record id="project_scrum.view_task_kanban_extend" model="ir.ui.view">
    <field name="name">project.task.kanban.scrum.extend</field>
    <field name="model">project.task</field>
    <!-- ereditiamo la vista kanban standard dei task -->
    <field name="inherit_id" ref="project.view_task_kanban"/>
    <field name="arch" type="xml">
      <templates>
        <!-- estendiamo il template "kanban-box" -->
        <t t-inherit="kanban-box" t-inherit-mode="extension">
          <!-- inseriamo subito dopo il blocco delle proprietÃ  principali -->
          <xpath expr="//div[@name='task_properties']" position="after">
            <!-- storia punti -->
            <div class="o_field_number_container">
              <field name="story_points" class="o_field_number"/>
            </div>
            <!-- sprint -->
            <div class="o_field_many2one_container">
              <field name="sprint_id" widget="many2one" options="{'no_open': True}"/>
            </div>
          </xpath>
        </t>
      </templates>
    </field>
  </record>
</odoo>
